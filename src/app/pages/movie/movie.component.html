<div class="movie__tabs tab" *ngIf="movie">
    <a class="tab__link" (click)="changeSection('home')" [routerLink]="['/movie', movie.id]">Home</a>
    <a class="tab__link" (click)="changeSection('reviews')" [routerLink]="['/movie', movie.id, 'reviews']">Reviews</a>
    <a class="tab__link" (click)="changeSection('videos')" [routerLink]="['/movie', movie.id, 'videos']">Videos</a>
    <a class="tab__link" (click)="changeSection('images')" [routerLink]="['/movie', movie.id, 'images']">Images</a>
    <a class="tab__link" (click)="changeSection('casts')" [routerLink]="['/movie', movie.id, 'casts']">Casts</a>
</div>
<div id="movie" *ngIf="movie">
    <div class="backdrop" [style.background-image]="'url(https://image.tmdb.org/t/p/w1400_and_h450_bestv2/' + movie.backdrop_path + ')'"></div>
    <div id="movie__header" *ngIf="section == 'home'">
        <div class="movie__info columns">
            <figure class="column is-4">
                <img src="https://image.tmdb.org/t/p/w500{{movie.poster_path}}" />
            </figure>
            <div class="column is-8">
                <h1>{{movie.title}}</h1>
                <div class="movie__date">{{movie.release_date}}</div>
                <div class="movie__rating">{{movie.vote_average}}</div>
                <p>{{movie.tagline}}</p>
                <p>{{ movie.overview }}</p>
                <div class="genres">
                    <span class="label">Genres: </span>
                    <span *ngFor="let genre of movie.genres" class="genre">{{genre.name}}</span>
                </div>
                <div class="columns">
                    <div class="column">
                        <div class="data">
                            <h6 class="label">Status:</h6>
                            <span>{{movie.status}}</span>
                        </div>
                        <div class="data">
                            <h6 class="label">Release Information:</h6>
                            <span>{{movie.release_date}}</span>
                        </div>
                        <div class="data">
                            <h6 class="label">Original Language:</h6>
                            <span>{{movie.original_language}}</span>
                        </div>
                    </div>
                    <div class="column">
                        <div class="data">
                            <h6 class="label">Runtime:</h6>
                            <span>{{movie.runtime}}</span>
                        </div>
                        <div class="data">
                            <h6 class="label">Revenue:</h6>
                            <span>{{movie.revenue | currency}}</span>
                        </div>
                        <div class="data">
                            <h6 class="label">Homepage:</h6>
                            <span><a href="{{movie.homepage}}" target="_blank">{{movie.homepage}}</a></span>
                        </div>
                        <div class="data">
                            <h6 class="label">Production Companies:</h6>
                            <span *ngFor="let company of movie.production_companies">{{company.name}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--<div class="" *ngIf="videos">-->
    <!--    <div id="videos" *ngIf="videos.results.length != 0">-->
    <!--        <iframe id="ytplayer" type="text/html" width="100%" height="315"-->
    <!--            [src]="getYoutubeEmbed(videos.results[0].key)"-->
    <!--            frameborder="0">-->
    <!--        </iframe>-->
    <!--    </div>-->
    <!--</div>-->
    <div class="movie__home" *ngIf="section == 'home'">
        <div id="casts" *ngIf="credits">
            <div class="columns">
                <person class="column is-6-mobile is-3-tablet is-2-desktop is-2-widescreen is-2-fullhd" *ngFor="let cast of credits.cast.slice(0, 6)" [person]=cast></person>
            </div>
        </div>
        <div id="crews" *ngIf="credits">
            <div class="columns">
                <person class="column is-6-mobile is-3-tablet is-2-desktop is-2-widescreen is-2-fullhd" *ngFor="let cast of credits.crew.slice(0, 6)" [person]=cast></person>
            </div>
        </div>
        <div id="similar-movies" *ngIf="similar">
            <div class="columns">
                <a class="column" [routerLink]="['/movie', movie.id, 'similar']">View All Similar Movies</a>
            </div>
            <movie-list type="movie" list="movie" [movies]=(similar)></movie-list>
        </div>
    </div>
    <div class="container" *ngIf="section == 'reviews'">
        <div id="reviews" *ngIf="reviews">
            <h3>Reviews</h3>
            <div class="row card" *ngFor="let review of reviews.results">
                <div class="col s2">
                    <p>{{ review.author }}</p>
                </div>
                <div class="col s10">
                    <p>{{ review.content }}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="container" *ngIf="section == 'casts'">
        <div class="columns is-multiline" *ngIf="credits">
            <person class="column is-6-mobile is-3-tablet is-2-desktop is-2-widescreen is-2-fullhd" *ngFor="let cast of credits.cast" [person]=cast></person>
            <person class="column is-6-mobile is-3-tablet is-2-desktop is-2-widescreen is-2-fullhd" *ngFor="let cast of credits.crew" [person]=cast></person>
        </div>
    </div>
    <div class="container" *ngIf="section == 'images'">
        <div id="images" *ngIf="images">
            <div class="columns is-mobile is-multiline">
                <div class="column is-6-mobile is-3-tablet is-2-desktop is-2-widescreen is-2-fullhd" *ngFor="let poster of images.posters; let i = index">
                    <img src="https://image.tmdb.org/t/p/w500{{poster.file_path}}" (click)="previewImage(poster, i)" />
                </div>
            </div>
            <div class="columns is-mobile is-multiline">
                <div class="column is-6-mobile is-3-tablet is-2-desktop is-2-widescreen is-2-fullhd" *ngFor="let backdrop of images.backdrops">
                    <img src="https://image.tmdb.org/t/p/w500{{backdrop.file_path}}" />
                </div>
            </div>
        </div>
        <section *ngIf="modalOpen" class="movie__imagesModal {{modalOpen ? 'open' : ''}}" (click)="closeModal()">
            <img class="movie__currentImage" src="https://image.tmdb.org/t/p/w500{{images.posters[currentImage].file_path}}" />
        </section>
    </div>
</div>